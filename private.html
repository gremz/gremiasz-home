<html>
<head>
  <script type="text/javascript" src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
  <script type="text/javascript" src="http://ssor.trb.stage.tribdev.com/reg/tribune/latarc.min.js"></script>
  <!-- <script type="text/javascript" src="http://dss.p2p.development/meter/latngux.js"></script> -->
</head>
<body>
  <script>
function privateMode(callback) {
        var ua = window.navigator.userAgent;
        var isPrivate, ieMatch = /(?:MSIE|rv:)\s?([\d\.]+)/.exec(ua), tries = 3,
          pass = function() { isPrivate = false; console.log('passed'); }, fail = function() { isPrivate = true; console.log('failed'); };

        if (window.webkitRequestFileSystem) {
          webkitRequestFileSystem(TEMPORARY, 1, pass, fail);
        } else if (/Firefox/.test(ua) && window.indexedDB) {
          var db = indexedDB.open('test2'); db.onsuccess = pass; db.onerror = fail;
        } else if (/Edge/.test(ua) || (ieMatch && parseInt(ieMatch[1], 10) >= 10)) {
          isPrivate = !window.indexedDB;
        } else if (/Safari/.test(ua) && window.localStorage) try {
          isPrivate = !openDatabase(null, null, null, null);
          localStorage.setItem('test', 1); localStorage.removeItem('test');
        } catch (e) { isPrivate = true; }

        (function retry() {
          if (isPrivate != null) callback(isPrivate); else tries-- ? setTimeout(retry, 50) : callback(false);
        })();
        // var isPrivate = false, db, ieMatch = /(?:MSIE|rv:)\s?([\d\.]+)/.exec(ua), edge = /Edge/.exec(ua), pass = 50;
        // if (window.webkitRequestFileSystem) {
        //   window.webkitRequestFileSystem(window.TEMPORARY, 1, function() {}, function(e) { isPrivate = true; });
        // } else if (window.indexedDB && /Firefox/.test(ua)) {
        //     db = window.indexedDB.open('test');
        //     db.onerror = function() { isPrivate = true; };
        // } else if ((ieMatch && parseInt(ieMatch[1], 10) >= 10) || (edge && edge[0] == "Edge")) {
        //     isPrivate = !window.indexedDB;
        // } else if (window.localStorage && /Safari/.test(ua)) {
        //     try { window.openDatabase(null, null, null, null); window.localStorage.setItem('test', 1); window.localStorage.removeItem('test'); } catch (e) { isPrivate = true; }
        // }

        // (function retry() {
        //   setTimeout(function() {
        //     if (db && db.readyState !== 'done') pass-- ? retry() : callback(false); else callback(isPrivate);
        //   }, 10)
        // })();
}
    
privateMode(function(isPrivate) { document.body.innerHTML += isPrivate; });
</script>
</body>
 </html>